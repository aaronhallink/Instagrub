/*! Instagrub 2014-03-10 */
function api(){return window.sharedAPI?window.sharedAPI:this instanceof api?void 0:window.sharedAPI=new api}function displayIngredient(){var a=document.getElementById("query").value;if(checkIngredient(a))return void alert("You already entered that!");if(""!=a){for(ingredients.push(a),output="",i=0;i<ingredients.length;i++)output+=ingredients[i]+"\n";document.getElementById("input_target").innerHTML=output,document.getElementById("input_target").placeholder=null}else alert("Enter an ingredient!"),document.getElementById("input_target").innerHTML=output}function checkIngredient(a){for(i=0;i<ingredients.length;i++)if(ingredients[i]==a)return!0;return!1}function changeImageAdd(){var a=document.getElementById("addImage");a.src="images/add_pressed.png"}function revertImageAdd(){var a=document.getElementById("addImage");a.src="images/add_unpressed.png"}function changeImageSearch(){var a=document.getElementById("searchImage");a.src="images/search_pressed.png"}function revertImageSearch(){var a=document.getElementById("searchImage");a.src="images/search_unpressed.png"}function recipeSearch(){for(i=0;i<ingredients.length;i++)querySearch+=i!=ingredients.length-1?ingredients[i]+"+":ingredients[i];return""==querySearch?void alert("Please enter ingredients!"):(api(),api().SearchRecipe(querySearch,function(a){if(console.log(a),1==check)for(;document.getElementById("results_target").hasChildNodes();)document.getElementById("results_target").removeChild(document.getElementById("results_target").lastChild);for(var b=0;b<a.matches.length;b++){var c=new Image(100,100);c.src=a.matches[b].smallImageUrls[0],c.border=1;{var d=document.createTextNode(a.matches[b].recipeName),e="Ingredients:\n";document.createTextNode(e)}document.getElementById("results_target").appendChild(c),document.getElementById("results_target").appendChild(d),document.getElementById("results_target").appendChild(document.createElement("br")),document.getElementById("results_target").appendChild(document.createTextNode("Ingredients:")),document.getElementById("results_target").appendChild(document.createElement("br"));for(var f=0;f<a.matches[b].ingredients.length;f++)document.getElementById("results_target").appendChild(document.createTextNode(f+". "+a.matches[b].ingredients[f])),document.getElementById("results_target").appendChild(document.createElement("br"))}update()}),querySearch="",void document.getElementById("results_target").hasChildNodes())}function update(){check=1}jQuery(document).ready(function(){}),api.prototype.SearchRecipe=function(a,b){{var c="../backend.php?q=search&p=";$.getJSON(c,{p:a},b)}},api.prototype.getRecipe=function(a,b){{var c="../backend.php?q=get&p=";$.getJSON(c,{p:a},b)}};var output="",querySearch="",ingredients=new Array,i,recipes=new Array,check=0;